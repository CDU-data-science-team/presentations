---
title: "Next level Shiny- R, Python, and JavaScript"
subtitle: "Shiny in Production conference, 7th November 2022"
author: "Chris Beeley"
institute: "Nottinghamshire Healthcare NHS Foundation Trust"
output:
  xaringan::moon_reader:
    css: 
      - default
      - css/nhsr.css
      - css/nhsr-fonts.css
    lib_dir: libs
    seal: false
    self_contained: true
    nature:
      highlightStyle: googlecode
      highlightLines: true
      highlightLanguage: ["r"]
      countIncrementalSlides: false
      ratio: "16:9"
---

class: title-slide, left, bottom

```{r setup, include = FALSE}
library(knitr)

### Packages not on CRAN ###

# install.packages("remotes")
# remotes::install_github("mitchelloharawild/icons")
library(icons) # icons need to be loaded to view so run following code if not already done
# icons::download_fontawesome()

# install.packages("devtools")
#devtools::install_github("gadenbuie/xaringanExtra")
library(xaringanExtra)
xaringanExtra::use_share_again() # need to get the slide button on html view

# set default options
opts_chunk$set(echo = FALSE,
               fig.width = 7.252,
               fig.height = 4,
               dpi = 300,
               dev.args = list(type = "cairo"),
               eval = TRUE,
               warning = FALSE,
               message = FALSE,
               error = FALSE)

```

```{r echo=FALSE}
# Adds logo to all slides

xaringanExtra::use_logo(
  image_url = "https://cdu-data-science-team.github.io/assets/logo/nottshc-cdu-data-science-logo-800.png",
  link_url = "https://cdu-data-science-team.github.io/team-blog/",
  exclude_class = c("inverse", "hide-logo"),
  width = "300px",
  height = "200px",
  position = css_position(top = "0em", right = "0em")
)
```

# `r rmarkdown::metadata$title`
----
## **`r rmarkdown::metadata$subtitle`**
### `r rmarkdown::metadata$author` | `r format(Sys.time(), '%B %Y')` 

---

# Introduction

* A history of Shiny
* What does Shiny do well? 
* What does Shiny not do well?
* How can we combine Shiny with other tools to improve our applications?

---

# Shiny - a history

* This is my personal recollection. YMMV
* In the early days it was really more suitable for exploring your own data
* Lacked good documentation, modules and many important functions
* Lots of self taught programmers writing applications with little good practice guidance
  * With predictable consequences `r emo::ji("upside_down_face")`

---

# When all you have is a hammer...

* (everything looks like a nail)
* If you only know Excel...
  * You end up writing complex fragile models in it
* If you're a data scientist that only knows Shiny for interaction...
  * You end up writing all of your interactive code in R
  
---

class: hide-logo

# Data science is a team sport

* Very often we see data scientists building Shiny applications of their own models
  * This is fine for testing, not so fine for production
* The world needs Shiny developers
* What are the skills of a Shiny developer?
  * (some of...)
  * R/ Shiny `r emo::ji("wink")`
  * DevOps, deployment, {pins}, {targets}...
  * Web development, JavaScript, accessibility, visualisation
  * Working with modules and working with codebases written by others
    * Using internal packages for data processing and analysis
    * This code could be in R or Python

---

# The context

* We have had a year of funding to build a text classification model for patient feedback
* We now have another year of funding to make it better, especially the frontend
* The model itself is written in Python
* 

---

### Code

```{r example, tidy=FALSE, eval=FALSE, echo=TRUE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() +   #<<
  geom_smooth()    #<<
```

---

### Output

```{r ref.label="example", eval=TRUE, echo=FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() +   #<<
  geom_smooth()    #<<
```

---

class: inverse-white, hide-logo

# Footnotes

The logo can be removed from a slide where the title overruns by using class: hide-logo

.footnote[The **nhsr theme** was designed by [Silvia Canelon](https://silvia.rbind.io) for, and with feedback from, the [NHS-R Community](https://github.com/nhs-r-community), following the [NHS identity guidelines](https://www.england.nhs.uk/nhsidentity/identity-guidelines/). Note that the xaringan share overlaps the footnotes if there are any hyperlinks.]

---
class: inverse

name: acknowledgement

# Acknowledgments

Acknowledgements: the professional look of this presentation, using NHS and Nottinghamshire Healthcare NHS Foundation Trust colour branding, exists because of the amazing work of Silvia Canelón, details of the workshops she ran at the [NHS-R Community conference](https://spcanelon.github.io/xaringan-basics-and-beyond/index.html), Milan Wiedemann who created the CDU Data Science logo with the help of the team and Zoë Turner for putting together the slides.

[`r icons::fontawesome("twitter")` @DataScienceNott](https://twitter.com/DataScienceNott)  
[`r icons::fontawesome("github")` Clinical Development Unit Data Science Team](https://github.com/CDU-data-science-team)  
[`r icons::fontawesome("paper-plane")` cdudatascience@nottshc.nhs.uk](mailto:cdudatascience@nottshc.nhs.uk)

